[{"path":"https://markjrieke.github.io/heRmann/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mark Rieke. Author, maintainer.","code":""},{"path":"https://markjrieke.github.io/heRmann/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Rieke M (2023). heRmann: Convenience functions Consumer Experience Analytics (CXA) team Memorial Hermann. https://github.com/markjrieke/heRmann, https://markjrieke.github.io/heRmann/.","code":"@Manual{,   title = {heRmann: Convenience functions for the Consumer Experience Analytics (CXA) team at Memorial Hermann},   author = {Mark Rieke},   year = {2023},   note = {https://github.com/markjrieke/heRmann, https://markjrieke.github.io/heRmann/}, }"},{"path":"https://markjrieke.github.io/heRmann/index.html","id":"hermann-","dir":"","previous_headings":"","what":"Convenience functions for the Consumer Experience Analytics (CXA) team at \n       Memorial Hermann","title":"Convenience functions for the Consumer Experience Analytics (CXA) team at \n       Memorial Hermann","text":"Author: Mark Rieke License: MIT","code":""},{"path":"https://markjrieke.github.io/heRmann/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Convenience functions for the Consumer Experience Analytics (CXA) team at \n       Memorial Hermann","text":"heRmann collection functions Consumer Experience Analytics (CXA) team Memorial Hermann Health System. package provides convenience functions interacting Qualtrics’ API performing common survey-specific data manipulation tasks.","code":""},{"path":"https://markjrieke.github.io/heRmann/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Convenience functions for the Consumer Experience Analytics (CXA) team at \n       Memorial Hermann","text":"package intentionally available CRAN. can install --date version github devtools package.","code":"devtools::install_github(\"markjrieke/heRmann\")"},{"path":"https://markjrieke.github.io/heRmann/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Convenience functions for the Consumer Experience Analytics (CXA) team at \n       Memorial Hermann","text":"typical workflow involves extracting survey responses Qualtrics prepping analysis. example using fake data Inpatient, Pediatric Inpatient, Inpatient Rehab surveys. import real responses, however, can pass vector survey names appear Qualtrics UI fetch_surveys(). survey names UI, however, lengthy annoying. , Qualtrics’ HCAHPS sampling engine, Inpatient survey contains duplicate responses Pediatric Inpatient Inpatient Rehab surveys. fix_survey_names() deduplicate_ip() address issues, respectively. Finally, unnesting reveals default recodes campus similarly lengthy annoying. fix_campus_names() reformats intuitive description:","code":"library(heRmann)  surveys <-    c(\"Live - Inpatient\",     \"Live - Pediatric Inpatient\",     \"Live - Adult Inpatient Rehab\") |>   fetch_surveys()  surveys #> # A tibble: 3 × 2 #>   survey_name                  responses        #>   <chr>                        <list>           #> 1 Live - Inpatient             <tibble [6 × 3]> #> 2 Live - Pediatric Inpatient   <tibble [1 × 3]> #> 3 Live - Adult Inpatient Rehab <tibble [2 × 3]> surveys <-    surveys |>   fix_survey_names() |>   deduplicate_ip()  surveys #> # A tibble: 3 × 2 #>   survey_name     responses        #>   <chr>           <list>           #> 1 Pedi Inpatient  <tibble [1 × 3]> #> 2 Inpatient Rehab <tibble [2 × 3]> #> 3 Inpatient       <tibble [3 × 3]> surveys <-    surveys |>   tidyr::unnest(responses)  surveys #> # A tibble: 6 × 4 #>   survey_name     UNIQUE_ID campus                                  response  #>   <chr>           <chr>     <chr>                                   <chr>     #> 1 Pedi Inpatient  12345     Children's Memorial Hermann Hospital    Promoter  #> 2 Inpatient Rehab 23456     Memorial Hermann - Texas Medical Center Passive   #> 3 Inpatient Rehab 34567     Memorial Hermann - Texas Medical Center Promoter  #> 4 Inpatient       45678     Memorial Hermann - Texas Medical Center Passive   #> 5 Inpatient       56789     Memorial Hermann - Texas Medical Center Detractor #> 6 Inpatient       67890     Memorial Hermann - Texas Medical Center Promoter  surveys |>   fix_campus_names() #> # A tibble: 6 × 4 #>   survey_name     UNIQUE_ID campus response  #>   <chr>           <chr>     <chr>  <chr>     #> 1 Pedi Inpatient  12345     CMHH   Promoter  #> 2 Inpatient Rehab 23456     TMC    Passive   #> 3 Inpatient Rehab 34567     TMC    Promoter  #> 4 Inpatient       45678     TMC    Passive   #> 5 Inpatient       56789     TMC    Detractor #> 6 Inpatient       67890     TMC    Promoter"},{"path":"https://markjrieke.github.io/heRmann/reference/deduplicate_ip.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove duplicate responses from the Inpatient survey — deduplicate_ip","title":"Remove duplicate responses from the Inpatient survey — deduplicate_ip","text":"Due Qualtrics' HCAHPs sampling engine, Memorial Hermann's Inpatient survey master file containing responses Inpatient, Pedi Inpatient, Inpatient Rehab (Inpatient Rehab separated standing survey early 2022, historical responses duplicated across Inpatient Inpatient Rehab survey files). deduplicate_ip() takes tibble fetch_surveys() removes duplicated responses Inpatient file, using encounter ID (\"UNIQUE_ID\") key.","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/deduplicate_ip.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove duplicate responses from the Inpatient survey — deduplicate_ip","text":"","code":"deduplicate_ip(.data)"},{"path":"https://markjrieke.github.io/heRmann/reference/deduplicate_ip.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove duplicate responses from the Inpatient survey — deduplicate_ip","text":".data tibble. column survey_name must present include responses Inpatient, Pedaitric Inpatient, Inpatient Rehab surveys.","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/deduplicate_ip.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove duplicate responses from the Inpatient survey — deduplicate_ip","text":"","code":"if (FALSE) { # pull in surveys from Qualtrics surveys <-   c(\"Live - Inpatient\",     \"Live - Pediatric Inpatient\",     \"Live - Inpatient Rehab\")  surveys <- fetch_surveys(surveys)  # deduplicate records deduplicate_ip(surveys) }"},{"path":"https://markjrieke.github.io/heRmann/reference/fetch_surveys.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch a list of Qualtrics surveys by name via the Qualtrics API — fetch_surveys","title":"Fetch a list of Qualtrics surveys by name via the Qualtrics API — fetch_surveys","text":"Fetch list Qualtrics surveys name via Qualtrics API","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/fetch_surveys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch a list of Qualtrics surveys by name via the Qualtrics API — fetch_surveys","text":"","code":"fetch_surveys(survey_names, ..., time_zone = \"America/Chicago\")"},{"path":"https://markjrieke.github.io/heRmann/reference/fetch_surveys.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch a list of Qualtrics surveys by name via the Qualtrics API — fetch_surveys","text":"survey_names vector survey names appear Qualtrics UI. ... Additional arguments passed qualtRics::fetch_survey(). time_zone Timezone adjustment passed qualtRics::fetch_survey(). list acceptable names time_zone can found Qualtrics API documentation.","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/fetch_surveys.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch a list of Qualtrics surveys by name via the Qualtrics API — fetch_surveys","text":"single value supplied survey_names: tibble survey responses qualtRics::fetch_survey(). multiple survey_names, tibble colums survey_name, survey_id, responses. responses contains responses survey returned qualtRics::fetch_survey().","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/fetch_surveys.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch a list of Qualtrics surveys by name via the Qualtrics API — fetch_surveys","text":"","code":"if (FALSE) { # fetch a single survey by name my_survey <- fetch_surveys(\"my cool survey\")  # fetch multiple surveys by name my_surveys <- fetch_surveys(c(\"my cool survey\", \"my lame survey\")) }"},{"path":"https://markjrieke.github.io/heRmann/reference/fix_survey_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Reformat Memorial Hermann Survey or Campus Names — fix_survey_names","title":"Reformat Memorial Hermann Survey or Campus Names — fix_survey_names","text":"fix_survey_names() convenience function reformatting MH Survey names appear Qualtrics UI something legible. fix_campus_names() similar convenience function reformats full campus names shorthand equivalent.","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/fix_survey_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reformat Memorial Hermann Survey or Campus Names — fix_survey_names","text":"","code":"fix_survey_names(.data)  fix_campus_names(.data)"},{"path":"https://markjrieke.github.io/heRmann/reference/fix_survey_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reformat Memorial Hermann Survey or Campus Names — fix_survey_names","text":".data tibble. fix_survey_names() requires column survey_name present. fix_campus_names() requires column campus present.","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/fix_survey_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reformat Memorial Hermann Survey or Campus Names — fix_survey_names","text":"","code":"# list of survey names as they appear in the qualtrics ui surveys <-   tibble::tibble(     survey_name = c(\"Live - Adult Day Surgery\",                     \"Live - Adult Emergency Department\",                     \"Live - Adult Inpatient Rehab\",                     \"Live - Adult Medical Practice\",                     \"Live - Adult Outpatient\",                     \"Live - Adult Outpatient - Oncology\",                     \"Live - Adult Outpatient - Vaccine\",                     \"Live - Adult Outpatient Rehab\",                     \"Live - Adult Telemedicine\",                     \"Live - Adult Urgent Care\",                     \"Live - HCAHPS - Paper\",                     \"Live - Home Medical Equipment\",                     \"Live - Infusion Pharmacy\",                     \"Live - Inpatient\",                     \"Live - Pediatric - Emergency Department\",                     \"Live - Pediatric Inpatient\")   )  # bad names! surveys #> # A tibble: 16 × 1 #>    survey_name                             #>    <chr>                                   #>  1 Live - Adult Day Surgery                #>  2 Live - Adult Emergency Department       #>  3 Live - Adult Inpatient Rehab            #>  4 Live - Adult Medical Practice           #>  5 Live - Adult Outpatient                 #>  6 Live - Adult Outpatient - Oncology      #>  7 Live - Adult Outpatient - Vaccine       #>  8 Live - Adult Outpatient Rehab           #>  9 Live - Adult Telemedicine               #> 10 Live - Adult Urgent Care                #> 11 Live - HCAHPS - Paper                   #> 12 Live - Home Medical Equipment           #> 13 Live - Infusion Pharmacy                #> 14 Live - Inpatient                        #> 15 Live - Pediatric - Emergency Department #> 16 Live - Pediatric Inpatient               # better names! fix_survey_names(surveys) #> # A tibble: 16 × 1 #>    survey_name            #>    <chr>                  #>  1 Day Surgery            #>  2 Emergency              #>  3 Inpatient Rehab        #>  4 Medical Practice       #>  5 Outpatient             #>  6 Outpatient Oncology    #>  7 Outpatient Vaccine     #>  8 Outpatient Rehab       #>  9 Telemedicine           #> 10 Urgent Care            #> 11 HCAHPS                 #> 12 Home Medical Equipment #> 13 Infusion Pharmacy      #> 14 Inpatient              #> 15 Pedi Emergency         #> 16 Pedi Inpatient          # list of campus names as they appear in the qualtrics ui campuses <-   tibble::tibble(     campus = c(\"Children's Memorial Hermann Hospital\",                \"Memorial Hermann - Texas Medical Center\",                \"Memorial Hermann / Rockets Orthopedic Hospital\",                \"Memorial Hermann Cypress Hospital\",                \"Memorial Hermann Greater Heights Hospital\",                \"Memorial Hermann Katy Hospital\",                \"Memorial Hermann Memorial City Medical Center\",                \"Memorial Hermann Northeast Hospital\",                \"Memorial Hermann Pearland Hospital\",                \"Memorial Hermann Rehabilitation Hospital - Katy\",                \"Memorial Hermann Southeast Hospital\",                \"Memorial Hermann Southwest Hospital\",                \"Memorial Hermann Sugar Land Hospital\",                \"Memorial Hermann The Woodlands Medical Center\",                \"TIRR Memorial Hermann\")   )  # bad names! campuses #> # A tibble: 15 × 1 #>    campus                                          #>    <chr>                                           #>  1 Children's Memorial Hermann Hospital            #>  2 Memorial Hermann - Texas Medical Center         #>  3 Memorial Hermann / Rockets Orthopedic Hospital  #>  4 Memorial Hermann Cypress Hospital               #>  5 Memorial Hermann Greater Heights Hospital       #>  6 Memorial Hermann Katy Hospital                  #>  7 Memorial Hermann Memorial City Medical Center   #>  8 Memorial Hermann Northeast Hospital             #>  9 Memorial Hermann Pearland Hospital              #> 10 Memorial Hermann Rehabilitation Hospital - Katy #> 11 Memorial Hermann Southeast Hospital             #> 12 Memorial Hermann Southwest Hospital             #> 13 Memorial Hermann Sugar Land Hospital            #> 14 Memorial Hermann The Woodlands Medical Center   #> 15 TIRR Memorial Hermann                            # better names! fix_campus_names(campuses) #> # A tibble: 15 × 1 #>    campus          #>    <chr>           #>  1 CMHH            #>  2 TMC             #>  3 MHROH           #>  4 Cypress         #>  5 Greater Heights #>  6 Katy            #>  7 Memorial City   #>  8 Northeast       #>  9 Pearland        #> 10 Katy Rehab      #> 11 Southeast       #> 12 Southwest       #> 13 Sugar Land      #> 14 Woodlands       #> 15 TIRR"},{"path":"https://markjrieke.github.io/heRmann/reference/read_recodes.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Memorial Hermann recodes from version control. — read_recodes","title":"Read Memorial Hermann recodes from version control. — read_recodes","text":"Reads Memorial Hermann recodes version control. Specify exact recode document used setting recode path set_recode_path().","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/read_recodes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Memorial Hermann recodes from version control. — read_recodes","text":"","code":"read_recodes(file = \"consolidated\")"},{"path":"https://markjrieke.github.io/heRmann/reference/read_recodes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Memorial Hermann recodes from version control. — read_recodes","text":"file recode file name read . Reads edit directory.","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/read_recodes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read Memorial Hermann recodes from version control. — read_recodes","text":"","code":"if (FALSE) {   read_recodes() }"},{"path":"https://markjrieke.github.io/heRmann/reference/rnps.html","id":null,"dir":"Reference","previous_headings":"","what":"Net Promoter Score (NPS) — rnps","title":"Net Promoter Score (NPS) — rnps","text":"rnps() generates n random possible net promoter scores based sample promoter, passive, detractor responses. qnps() simulates sample NPS scores, produces sample quantiles corresponding given probabilities.","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/rnps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Net Promoter Score (NPS) — rnps","text":"","code":"rnps(n, promoters, passives, detractors)  qnps(   p,   promoters,   passives,   detractors,   sims = 10000,   na.rm = FALSE,   names = FALSE,   ... )"},{"path":"https://markjrieke.github.io/heRmann/reference/rnps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Net Promoter Score (NPS) — rnps","text":"n number observations generate. promoters, passives, detractors counts promoters, passives, detractors p vector quantiles. sims number simulated NPS scores generate use sample quantile calculation. na.rm logical; true, NA NaNs removed quantiles computed. names logical; true, result names attribute. Set FALSE speedup many probs. ... additional params pass stats::quantile()","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/rnps.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Net Promoter Score (NPS) — rnps","text":"","code":"# generate 10 nps scores based on a sample of 100 respondents rnps(10, 70, 20, 10) #>  [1] 0.5993435 0.6477592 0.5372935 0.6007091 0.7161266 0.6842178 0.6365118 #>  [8] 0.6809288 0.6638778 0.5195787  # estimate the 95% nps quantile range of a sample of 100 respondents qnps(c(0.025, 0.5, 0.975), 70, 20, 10) #> [1] 0.4627246 0.6037337 0.7172019"},{"path":"https://markjrieke.github.io/heRmann/reference/set_recode_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Set a path for retrieving MH recodes — set_recode_path","title":"Set a path for retrieving MH recodes — set_recode_path","text":"Saves environment variable containing path recode list. Saved MEMORIAL_HERMANN_RECODE_PATH.","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/set_recode_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set a path for retrieving MH recodes — set_recode_path","text":"","code":"set_recode_path(path = NULL, install = TRUE)"},{"path":"https://markjrieke.github.io/heRmann/reference/set_recode_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set a path for retrieving MH recodes — set_recode_path","text":"path folder path recode list. E.g., \"path//recode/list/\". install save folder path .Renviron future use.","code":""},{"path":"https://markjrieke.github.io/heRmann/reference/set_recode_path.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set a path for retrieving MH recodes — set_recode_path","text":"","code":"if (FALSE) {   set_recode_path(\"made/up/path/file.csv\") }"},{"path":"https://markjrieke.github.io/heRmann/news/index.html","id":"hermann-0009000","dir":"Changelog","previous_headings":"","what":"heRmann 0.0.0.9000","title":"heRmann 0.0.0.9000","text":"collection functions Consumer Experience Analytics (CXA) team Memorial Hermann Health System. Previously found riekelib. deduplicate_ip(): remove inpatient rehab pediatric inpatient responses inpatient survey file. fetch_surveys(): fetch survey responses Qualtrics based survey name Qualtrics UI. fix_campus_names(): reformat campus names readable format. fix_survey_names(): reformat survey names readable format. qnps(): find quantile Net Promoter Score based observed number promoters, passives, detractors. rnps(): generate random draws Net Promoter Score based observed number promoters, passives, detractors. read_recodes(): read recent set recodes version-controlled source. set_recode_path(): store path version-controlled recodes .Renviron.","code":""}]
